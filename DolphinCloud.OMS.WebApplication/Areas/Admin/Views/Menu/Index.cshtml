@inject Microsoft.AspNetCore.Antiforgery.IAntiforgery Xsrf
@functions {
    public string GetAntiXsrfRequestToken()
    {
        return Xsrf.GetAndStoreTokens(Context).RequestToken;
    }
}
@{
    Layout = "_AdminPageLayout";
}
<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md12">
            <div class="layui-card">
                <div class="layui-card-header">菜单列表</div>
                <div class="layui-card-body">
                    <table class="layui-hide" id="menuTable" lay-filter="menuTable"></table>
                    <script type="text/html" id="menuBar">
                        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
                        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    var element = layui.element,
        form = layui.form,
        layer = layui.layer,
        table = layui.table,
        laytpl = layui.laytpl;
    var index = parent.layer.getFrameIndex(window.name);
    var tableIns = table.render({
        elem: '#menuTable',
        url: '/Admin/Menu/GetMenuTable',//'@Url.Action("GetMenuTable", "Menu", new { area = "Admin" })',
        method: "POST",
        contentType: "application/json",
        headers: { "X-CSRF-TOKEN": '@GetAntiXsrfRequestToken()' },
        defaultToolbar: ['filter', 'print', 'exports'],
        page: { //支持传入 laypage 组件的所有参数（某些参数除外，如：jump/elem） - 详见文档
            layout: ['limit', 'count', 'prev', 'page', 'next', 'skip'] //自定义分页布局
        },
        cols: [[
            { field: 'menuID', title: '主键', width: 80, sort: true },
            { field: 'parentID', title: '上级菜单主键', width: 200 },
            { field: 'menuName', title: '菜单名称', width: 200 },
            { field: 'menuType', title: '菜单类型', width: 100 },
            { field: 'menuIcon', title: '菜单图标', width: 100 },
            { field: 'areaName', title: '区域名称', width: 100 },
            { field: 'controllerName', title: '控制器名称', width: 100 },
            { field: 'actionName', title: '动作名称', width: 100 },
            { field: 'menuUrlAddress', title: '链接地址', width: 100 },
            { field: 'sortNumber', title: '排序', width: 100 },
            { field: 'createBy', title: '创建人', width: 100 },
            { field: 'createDateTime', title: '创建时间', width: 200 },
            { field: 'lastModifyBy', title: '最后修改人', width: 200 },
            { field: 'lastModifyDate', title: '最后修改时间', width: 200 },
            { field: 'deleteFG', title: '是否逻辑删除', width: 200 },
            { fixed: 'right', title: '操作', width: 200, align: 'center', toolbar: '#menuBar' }
        ]],
        response: {
            statusCode: 200 //重新规定成功的状态码为 200，table 组件默认为 0
        }
    });


</script>